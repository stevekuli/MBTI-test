"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));var _createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass"));var _inherits2=_interopRequireDefault(require("@babel/runtime/helpers/inherits"));var _possibleConstructorReturn2=_interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));var _getPrototypeOf2=_interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));var _react=_interopRequireDefault(require("react"));var _reactNative=require("react-native");var _ModalView=_interopRequireDefault(require("../modal/ModalView"));var _style=require("../style");var _index=_interopRequireDefault(require("./style/index"));function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2["default"])(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2["default"])(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2["default"])(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var ActionSheetAndroid=function(_React$PureComponent){(0,_inherits2["default"])(ActionSheetAndroid,_React$PureComponent);var _super=_createSuper(ActionSheetAndroid);function ActionSheetAndroid(props){var _this;(0,_classCallCheck2["default"])(this,ActionSheetAndroid);_this=_super.call(this,props);_this.close=function(){_this.setState({visible:false});};_this.state={visible:_this.props.visible||false};return _this;}(0,_createClass2["default"])(ActionSheetAndroid,[{key:"confirm",value:function confirm(index){var callback=this.props.callback;if(callback){callback(index);}this.setState({visible:false});}},{key:"render",value:function render(){var _this2=this;var _this$props=this.props,config=_this$props.config,onAnimationEnd=_this$props.onAnimationEnd;var title=config.title,message=config.message,options=config.options,destructiveButtonIndex=config.destructiveButtonIndex,cancelButtonIndex=config.cancelButtonIndex;return _react["default"].createElement(_style.WithTheme,{themeStyles:_index["default"],styles:this.props.styles},function(styles,theme){var titleMsg=!!title&&_react["default"].createElement(_reactNative.View,{style:styles.title,key:"0"},_react["default"].createElement(_reactNative.Text,{style:styles.titleText},title));var content=options.map(function(item,index){return _react["default"].createElement(_reactNative.View,{key:index,style:[cancelButtonIndex===index?styles.cancelBtn:undefined]},_react["default"].createElement(_reactNative.TouchableHighlight,{style:[styles.btn],underlayColor:theme.fill_tap,onPress:function onPress(){return _this2.confirm(index);}},_react["default"].createElement(_reactNative.Text,{style:[styles.btnText,destructiveButtonIndex===index?styles.destructiveBtn:undefined]},item)),cancelButtonIndex===index?_react["default"].createElement(_reactNative.View,{style:styles.cancelBtnMask}):null);});return _react["default"].createElement(_reactNative.View,{style:styles.container},_react["default"].createElement(_ModalView["default"],{animationDuration:200,animateAppear:true,visible:_this2.state.visible,onAnimationEnd:onAnimationEnd,style:styles.content,animationType:"slide-up",maskClosable:true,onClose:function onClose(){return _this2.confirm(cancelButtonIndex||-1);}},_react["default"].createElement(_reactNative.View,null,titleMsg,!!message&&_react["default"].createElement(_reactNative.View,{style:styles.message,key:"1"},_react["default"].createElement(_reactNative.Text,null,message)),_react["default"].createElement(_reactNative.View,null,content))));});}}]);return ActionSheetAndroid;}(_react["default"].PureComponent);var _default=ActionSheetAndroid;exports["default"]=_default;