{"version":3,"file":"index.js","sources":["../../../src/runtime/apis/index.ts"],"sourcesContent":["import definition from '@tarojs/plugin-platform-h5/dist/definition.json'\nimport isMatchWith from 'lodash-es/isMatchWith'\nimport set from 'lodash-es/set'\n\nimport Taro from './taro'\n\nexport * from './taro'\nexport * from './taro-h5'\n\nlet list: Record<string, unknown> | null = null\nexport function canIUse (scheme = '') {\n  /** Note: 此处方法仅作适配使用，用于避免 babel 无法识别的情况，比如通过变量传递的 scheme 等等\n   * 同时，此处的 scheme 不包括在编译时写入的 hooks 等方法，故而不支持相关判断\n   */\n  if (list === null) {\n    list = {\n      ...definition.apis,\n      ...definition.components,\n      canIUse: '*'\n    } as Exclude<typeof list, null>\n  }\n  if (!scheme) return false\n  const o = set({}, scheme, true)\n  return isMatchWith(list, o, (a, b) => {\n    if (a === '*' || b === true) return true\n  })\n}\n\nexport default Taro\n"],"names":[],"mappings":";;;;;;;;;;AASA,IAAI,IAAI,GAAmC,IAAI,CAAA;AAC/B,SAAA,OAAO,CAAE,MAAM,GAAG,EAAE,EAAA;AAClC;;AAEG;AACH,IAAA,IAAI,IAAI,KAAK,IAAI,EAAE;AACjB,QAAA,IAAI,GAAG,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EACF,UAAU,CAAC,IAAI,CACf,EAAA,UAAU,CAAC,UAAU,CACxB,EAAA,EAAA,OAAO,EAAE,GAAG,GACiB,CAAA;KAChC;AACD,IAAA,IAAI,CAAC,MAAM;AAAE,QAAA,OAAO,KAAK,CAAA;IACzB,MAAM,CAAC,GAAG,GAAG,CAAC,EAAE,EAAE,MAAM,EAAE,IAAI,CAAC,CAAA;IAC/B,OAAO,WAAW,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,KAAI;AACnC,QAAA,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,IAAI;AAAE,YAAA,OAAO,IAAI,CAAA;AAC1C,KAAC,CAAC,CAAA;AACJ;;;;"}