{"version":3,"file":"createFormsComponent.js","sources":["../../../../taro-components-library-vue3/src/component-lib/createFormsComponent.ts"],"sourcesContent":["import { computed, h, toRefs } from 'vue'\n\nimport { useForwardRef } from './forwardRef'\n\nexport default function createFormsComponent (name, eventName, modelValue = 'value', classNames = []) {\n  const props: Record<string, any> = {\n    modelValue: null\n  }\n  if (name === 'taro-input') {\n    props.focus = Boolean\n  }\n\n  return {\n    emits: ['tap', 'update:modelValue'],\n    props,\n    setup (props, { slots, emit }) {\n      const { modelValue: model, focus } = toRefs(props)\n\n      const attrs = computed(() => {\n        return name === 'taro-input'\n          ? {\n            [modelValue]: model.value,\n            'auto-focus': focus.value\n          }\n          : {\n            [modelValue]: model.value\n          }\n      })\n\n      const forwardRef = useForwardRef()\n\n      return () => (\n        h(\n          `${name}-core`,\n          {\n            ref: forwardRef,\n            class: ['hydrated', ...classNames],\n            ...attrs.value,\n            onClick (e) {\n              emit('tap', e)\n            },\n            [`on${eventName}`] (e) {\n              emit('update:modelValue', e.detail.value)\n            }\n          },\n          slots\n        )\n      )\n    }\n  }\n}\n"],"names":[],"mappings":";;;AAIwB,SAAA,oBAAoB,CAAE,IAAI,EAAE,SAAS,EAAE,UAAU,GAAG,OAAO,EAAE,UAAU,GAAG,EAAE,EAAA;AAClG,IAAA,MAAM,KAAK,GAAwB;AACjC,QAAA,UAAU,EAAE,IAAI;KACjB,CAAA;IACD,IAAI,IAAI,KAAK,YAAY,EAAE;AACzB,QAAA,KAAK,CAAC,KAAK,GAAG,OAAO,CAAA;AACtB,KAAA;IAED,OAAO;AACL,QAAA,KAAK,EAAE,CAAC,KAAK,EAAE,mBAAmB,CAAC;QACnC,KAAK;AACL,QAAA,KAAK,CAAE,KAAK,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,EAAA;AAC3B,YAAA,MAAM,EAAE,UAAU,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG,MAAM,CAAC,KAAK,CAAC,CAAA;AAElD,YAAA,MAAM,KAAK,GAAG,QAAQ,CAAC,MAAK;gBAC1B,OAAO,IAAI,KAAK,YAAY;AAC1B,sBAAE;AACA,wBAAA,CAAC,UAAU,GAAG,KAAK,CAAC,KAAK;wBACzB,YAAY,EAAE,KAAK,CAAC,KAAK;AAC1B,qBAAA;AACD,sBAAE;AACA,wBAAA,CAAC,UAAU,GAAG,KAAK,CAAC,KAAK;qBAC1B,CAAA;AACL,aAAC,CAAC,CAAA;AAEF,YAAA,MAAM,UAAU,GAAG,aAAa,EAAE,CAAA;AAElC,YAAA,OAAO,OACL,CAAC,CACC,CAAG,EAAA,IAAI,CAAO,KAAA,CAAA,EAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAEZ,GAAG,EAAE,UAAU,EACf,KAAK,EAAE,CAAC,UAAU,EAAE,GAAG,UAAU,CAAC,EAC/B,EAAA,KAAK,CAAC,KAAK,CACd,EAAA,EAAA,OAAO,CAAE,CAAC,EAAA;AACR,oBAAA,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC,CAAA;iBACf;AACD,gBAAA,CAAC,CAAK,EAAA,EAAA,SAAS,CAAE,CAAA,CAAC,CAAE,CAAC,EAAA;oBACnB,IAAI,CAAC,mBAAmB,EAAE,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAA;AAC3C,iBAAC,EAEH,CAAA,EAAA,KAAK,CACN,CACF,CAAA;SACF;KACF,CAAA;AACH;;;;"}