{"version":3,"file":"refs.js","sources":["../../../../../taro-components-library-vue2/src/component-lib/mixins/refs.ts"],"sourcesContent":["export const refs = {\n  mounted () {\n    if (\n      this.$parent &&\n      typeof this.$parent.$refs === 'object' &&\n      Object.keys(this.$parent.$refs).length\n    ) {\n      const refs = this.$parent.$refs\n\n      if (this._refCacheKey) {\n        refs[this._refCacheKey] = this.$el\n      } else {\n        for (const key in refs) {\n          const ref = refs[key]\n          if (ref === this) {\n            this._refCacheKey = key\n            refs[key] = this.$el\n            break\n          } else if (Array.isArray(ref)) {\n            const index = ref.indexOf(this)\n            if (index > -1) {\n              ref[index] = this.$el\n              break\n            }\n          }\n        }\n      }\n    }\n  },\n  beforeDestroy () {\n    if (\n      this.$parent &&\n      typeof this.$parent.$refs === 'object' &&\n      Object.keys(this.$parent.$refs).length\n    ) {\n      const refs = this.$parent.$refs\n\n      if (this._refCacheKey) {\n        refs[this._refCacheKey] = this\n      } else {\n        for (const key in refs) {\n          if (Array.isArray(refs[key])) {\n            const index = refs[key].indexOf(this.$el)\n            if (index > -1) {\n              refs[key][index] = this\n              break\n            }\n          }\n        }\n      }\n    }\n  }\n}\n"],"names":[],"mappings":"AAAa,MAAA,IAAI,GAAG;IAClB,OAAO,GAAA;QACL,IACE,IAAI,CAAC,OAAO;AACZ,YAAA,OAAO,IAAI,CAAC,OAAO,CAAC,KAAK,KAAK,QAAQ;YACtC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,MAAM,EACtC;AACA,YAAA,MAAM,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAA;YAE/B,IAAI,IAAI,CAAC,YAAY,EAAE;gBACrB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC,GAAG,CAAA;AACnC,aAAA;AAAM,iBAAA;AACL,gBAAA,KAAK,MAAM,GAAG,IAAI,IAAI,EAAE;AACtB,oBAAA,MAAM,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,CAAA;oBACrB,IAAI,GAAG,KAAK,IAAI,EAAE;AAChB,wBAAA,IAAI,CAAC,YAAY,GAAG,GAAG,CAAA;AACvB,wBAAA,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,CAAA;wBACpB,MAAK;AACN,qBAAA;AAAM,yBAAA,IAAI,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;wBAC7B,MAAM,KAAK,GAAG,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,CAAA;AAC/B,wBAAA,IAAI,KAAK,GAAG,CAAC,CAAC,EAAE;AACd,4BAAA,GAAG,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,GAAG,CAAA;4BACrB,MAAK;AACN,yBAAA;AACF,qBAAA;AACF,iBAAA;AACF,aAAA;AACF,SAAA;KACF;IACD,aAAa,GAAA;QACX,IACE,IAAI,CAAC,OAAO;AACZ,YAAA,OAAO,IAAI,CAAC,OAAO,CAAC,KAAK,KAAK,QAAQ;YACtC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,MAAM,EACtC;AACA,YAAA,MAAM,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAA;YAE/B,IAAI,IAAI,CAAC,YAAY,EAAE;AACrB,gBAAA,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,GAAG,IAAI,CAAA;AAC/B,aAAA;AAAM,iBAAA;AACL,gBAAA,KAAK,MAAM,GAAG,IAAI,IAAI,EAAE;oBACtB,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE;AAC5B,wBAAA,MAAM,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAA;AACzC,wBAAA,IAAI,KAAK,GAAG,CAAC,CAAC,EAAE;4BACd,IAAI,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,GAAG,IAAI,CAAA;4BACvB,MAAK;AACN,yBAAA;AACF,qBAAA;AACF,iBAAA;AACF,aAAA;AACF,SAAA;KACF;;;;;"}