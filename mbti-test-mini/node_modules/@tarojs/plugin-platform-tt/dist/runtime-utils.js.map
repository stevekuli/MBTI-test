{"version":3,"file":"runtime-utils.js","sources":["../src/apis-list.ts","../src/apis.ts","../src/components.ts","../src/runtime-utils.ts"],"sourcesContent":["export const needPromiseApis = new Set([\n  'applyRefund',\n  'canRateAwemeOrders',\n  'checkFollowAwemeState',\n  'checkFollowState',\n  'continueToPay',\n  'createOrder',\n  'exitMiniProgram',\n  'followAwemeUser',\n  'followOfficialAccount',\n  'getMenuButtonLayout',\n  'getUserProfile',\n  'hideInteractionBar',\n  'navigateToVideoView',\n  'openAwemeUserProfile',\n  'openEcGood',\n  'openWebcastRoom',\n  'pay',\n  'rateAwemeOrder',\n  'showDouyinOpenAuth',\n  'showInteractionBar',\n])\n","import { processApis } from '@tarojs/shared'\n\nimport { needPromiseApis } from './apis-list'\n\nimport type { IApiDiff } from '@tarojs/shared'\n\ndeclare const tt: any\n\nconst apiDiff: IApiDiff = {\n  showToast: {\n    options: {\n      set: [\n        {\n          key: 'icon',\n          value (options) {\n            return options.icon === 'error' ? 'fail' : options.icon\n          }\n        }\n      ]\n    }\n  }\n}\n\nexport function transformMeta (api: string, options: Record<string, any>) {\n  let apiAlias = api\n  Object.keys(apiDiff).forEach(item => {\n    const apiItem = apiDiff[item]\n    if (api === item) {\n      if (apiItem.alias) {\n        apiAlias = apiItem.alias\n      }\n      if (apiItem.options) {\n        const change = apiItem.options.change\n        const set = apiItem.options.set\n        if (change) {\n          change.forEach(changeItem => {\n            options[changeItem.new] = options[changeItem.old]\n          })\n        }\n        if (set) {\n          set.forEach(setItem => {\n            options[setItem.key] = typeof setItem.value === 'function' ? setItem.value(options) : setItem.value\n          })\n        }\n      }\n    }\n  })\n  return {\n    key: apiAlias,\n    options\n  }\n}\n\n\n\nexport function initNativeApi (taro) {\n  processApis(taro, tt, {\n    needPromiseApis,\n    transformMeta\n  })\n}\n","import { singleQuote } from '@tarojs/shared'\n\nconst _true = '!0'\nconst _false = '!1'\nconst _empty = ''\n\nexport const components = {\n  // ======== 调整属性 ========\n  Icon: {\n    size: '24'\n  },\n  Input: {\n    'adjust-position': _true,\n    'hold-keyboard': _false,\n    'clue-type': '0',\n    bindKeyboardHeightChange: _empty,\n  },\n  Button: {\n    bindGetPhoneNumber: _empty,\n    'data-channel': _empty,\n    'data-aweme-id': _empty,\n    'group-id': _empty,\n    'data-is-half-page': _empty,\n    bindOpenAwemeUserProfile: _empty,\n    bindJoinGroup: _empty,\n  },\n  Form: {\n    'report-submit-timeout': '0'\n  },\n  Slider: {\n    color: singleQuote('#e9e9e9'),\n    'selected-color': singleQuote('#1aad19')\n  },\n  WebView: {\n    'progressbar-color': singleQuote('#51a0d8')\n  },\n  Video: {\n    'play-btn-position': singleQuote('center'),\n    'pre-roll-unit-id': _empty,\n    'post-roll-unit-id': _empty,\n    'vslide-gesture': _false,\n    'vslide-gesture-in-fullscreen': _true,\n    'enable-play-gesture': _false,\n    'show-playback-rate-btn': _false,\n    'enable-play-in-background': _false,\n    signature: _empty,\n    bindProgress: _empty,\n    bindSeekComplete: _empty,\n    bindAdLoad: _empty,\n    bindAdStart: _empty,\n    bindAdEnded: _empty,\n    bindAdError: _empty,\n    bindAdClose: _empty,\n    bindLoadedMetadata: _empty,\n    bindPlaybackRateChange: _empty,\n    bindMuteChange: _empty,\n    bindControlTap: _empty,\n    bindEnterBackground: _empty,\n    bindCloseBackground: _empty,\n    bindLeaveBackground: _empty,\n  },\n  Ad: {\n    fixed: _empty,\n    type: singleQuote('banner'),\n    scale: '100'\n  },\n  Textarea: {\n    'disable-default-padding': _false,\n    'confirm-type': singleQuote('return'),\n    'confirm-hold': _false,\n    'show-confirm-bar': _true,\n    'adjust-position': _true,\n    'hold-keyboard': _false\n  },\n  ScrollView: {\n    enhanced: _false,\n    bounces: _true,\n    'refresher-enabled': _false,\n    'refresher-threshold': '55',\n    'refresher-default-style': \"'black'\",\n    'refresher-background': \"'#FFF'\",\n    'refresher-triggered': _false,\n    bindRefresherPulling: _empty,\n    bindRefresherRefresh: _empty,\n    bindRefresherRestore: _empty,\n    bindRefresherAbort: _empty,\n  },\n  Canvas: {\n    type: _empty\n  },\n  Map: {\n    polygons: '[]',\n    rotate: '0',\n    skew: '0',\n    'max-scale': '19',\n    'min-scale': '3',\n    'enable-3D': _false,\n    'show-compass': _false,\n    'show-scale': _false,\n    'enable-overlooking': _false,\n    'enable-zoom': _true,\n    'enable-scroll': _true,\n    'enable-rotate': _false,\n    'enable-satellite': _false,\n    'enable-traffic': _false,\n    'enable-poi': _true,\n    'enable-building': _true,\n    bindLabelTap: _empty,\n    bindRegionChange: _empty,\n    bindAnchorPointTap: _empty\n  },\n  // ======== 额外组件 ========\n  RtcRoom: {\n    'user-id': _empty,\n    mode: 'camera',\n    'device-position': 'front',\n    bindError: _empty\n  },\n  PayButton: {\n    mode: '1',\n    'goods-id': _empty,\n    'goods-type': _empty,\n    'order-status': '0',\n    'order-id': _empty,\n    'refund-id': _empty,\n    'refund-total-amount': _empty,\n    'biz-line': '1',\n    'marketing-ready': _false,\n    bindGetGoodsInfo: _empty,\n    bindPlaceOrder: _empty,\n    bindError: _empty,\n    bindApplyRefund: _empty,\n    bindRefund: _empty,\n    bindPay: _empty\n  },\n  ConsumeCard: {\n    'order-id': _empty,\n    bindConsume: _empty,\n    bindRefund: _empty,\n    bindApplyRefund: _empty,\n    bindError: _empty\n  },\n  AwemeData: {\n    'aweme-id': _empty,\n    type: singleQuote('avatar'),\n    'disable-default': _empty,\n    'default-avatar': _empty,\n    'default-text': _empty,\n    bindError: _empty\n  },\n  RateButton: {\n    'order-id': _empty,\n    bindInit: _empty,\n    bindSuccess: _empty,\n    bindError: _empty,\n  },\n  OpenData: {\n    type: _empty,\n    'default-text': _empty,\n    'default-avatar': _empty,\n    'use-empty-value': _false,\n    bindError: _empty\n  },\n  AwemeUserCard: {\n    'aweme-id': _empty,\n    width: '504',\n    height: '144',\n    fixed: _false,\n    'left-right-padding': _empty,\n    bindError: _empty\n  }\n}\n","import { initNativeApi } from './apis'\n\nexport { initNativeApi }\nexport * from './apis-list'\nexport * from './components'\nexport const hostConfig = {\n  initNativeApi,\n  modifyMpEventImpl (event) {\n    if (event.type === 'regionchange') {\n      event.type = event.detail.type\n    }\n  },\n  modifyTaroEventReturn (node, event, returnVal) {\n    if (node.nodeName === 'pay-button') {\n      if (event.type === 'applyrefund' || event.type === 'getgoodsinfo') {\n        return returnVal\n      }\n    }\n  }\n}\n"],"names":[],"mappings":"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"}