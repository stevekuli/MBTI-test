{"version":3,"file":"vibrate.js","sources":["../../../src/api/device/vibrate.ts"],"sourcesContent":["import Taro from '@tarojs/api'\r\n\r\nimport { MethodHandler } from '../../utils/handler'\r\n\r\nconst vibrator = function vibrator (mm: number | number[]) {\r\n  try {\r\n    return window.navigator.vibrate(mm)\r\n  } catch (e) {\r\n    console.warn('当前浏览器不支持 vibrate。')\r\n  }\r\n}\r\n\r\n/**\r\n * 使手机发生较短时间的振动（15 ms）。仅在 iPhone 7 / 7 Plus 以上及 Android 机型生效\r\n */\r\nexport const vibrateShort: typeof Taro.vibrateShort = ({ success, fail, complete } = {}) => {\r\n  const handle = new MethodHandler({ name: 'vibrateShort', success, fail, complete })\r\n  if (vibrator(15)) {\r\n    return handle.success()\r\n  } else {\r\n    return handle.fail({ errMsg: 'style is not support' })\r\n  }\r\n}\r\n\r\n/**\r\n * 使手机发生较长时间的振动（400 ms)\r\n */\r\nexport const vibrateLong: typeof Taro.vibrateLong = ({ success, fail, complete } = {}) => {\r\n  const handle = new MethodHandler({ name: 'vibrateLong', success, fail, complete })\r\n  if (vibrator(400)) {\r\n    return handle.success()\r\n  } else {\r\n    return handle.fail({ errMsg: 'style is not support' })\r\n  }\r\n}\r\n"],"names":[],"mappings":";;AAIA,MAAM,QAAQ,GAAG,SAAS,QAAQ,CAAE,EAAqB,EAAA;IACvD,IAAI;QACF,OAAO,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,EAAE,CAAC,CAAA;AACpC,KAAA;AAAC,IAAA,OAAO,CAAC,EAAE;AACV,QAAA,OAAO,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAA;AAClC,KAAA;AACH,CAAC,CAAA;AAED;;AAEG;AACI,MAAM,YAAY,GAA6B,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,EAAE,KAAI;AACzF,IAAA,MAAM,MAAM,GAAG,IAAI,aAAa,CAAC,EAAE,IAAI,EAAE,cAAc,EAAE,OAAO,EAAE,IAAI,EAAE,QAAQ,EAAE,CAAC,CAAA;AACnF,IAAA,IAAI,QAAQ,CAAC,EAAE,CAAC,EAAE;AAChB,QAAA,OAAO,MAAM,CAAC,OAAO,EAAE,CAAA;AACxB,KAAA;AAAM,SAAA;QACL,OAAO,MAAM,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,sBAAsB,EAAE,CAAC,CAAA;AACvD,KAAA;AACH,EAAC;AAED;;AAEG;AACI,MAAM,WAAW,GAA4B,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,EAAE,KAAI;AACvF,IAAA,MAAM,MAAM,GAAG,IAAI,aAAa,CAAC,EAAE,IAAI,EAAE,aAAa,EAAE,OAAO,EAAE,IAAI,EAAE,QAAQ,EAAE,CAAC,CAAA;AAClF,IAAA,IAAI,QAAQ,CAAC,GAAG,CAAC,EAAE;AACjB,QAAA,OAAO,MAAM,CAAC,OAAO,EAAE,CAAA;AACxB,KAAA;AAAM,SAAA;QACL,OAAO,MAAM,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,sBAAsB,EAAE,CAAC,CAAA;AACvD,KAAA;AACH;;;;"}