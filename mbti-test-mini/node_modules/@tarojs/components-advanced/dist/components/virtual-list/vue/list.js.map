{"version":3,"file":"list.js","sources":["../../../../src/components/virtual-list/vue/list.ts"],"sourcesContent":["import { isNumber } from '@tarojs/shared'\nimport memoizeOne from 'memoize-one'\nimport { defineComponent } from 'vue'\n\nimport { cancelTimeout, convertNumber2PX, defaultItemKey, getRectSizeSync, getScrollViewContextNode, omit, requestTimeout } from '../../../utils'\nimport render from '../../../utils/vue-render'\nimport { IS_SCROLLING_DEBOUNCE_INTERVAL } from '../constants'\nimport { getRTLOffsetType } from '../dom-helpers'\nimport Preset, { type IProps } from '../preset'\n\nexport default defineComponent({\n  props: {\n    id: String,\n    height: {\n      type: [String, Number],\n      required: true\n    },\n    width: {\n      type: [String, Number],\n      required: true\n    },\n    item: {\n      required: true\n    },\n    itemCount: {\n      type: Number,\n      required: true\n    },\n    itemData: {\n      type: Array,\n      required: true\n    },\n    itemKey: Function,\n    itemSize: {\n      type: [Number, Function],\n      required: true\n    },\n    queryPrefix: {\n      type: String,\n      default: ''\n    },\n    unlimitedSize: {\n      type: Boolean,\n      default: false\n    },\n    position: {\n      type: String,\n      default: 'absolute'\n    },\n    direction: {\n      type: String,\n      default: 'ltr'\n    },\n    layout: {\n      type: String,\n      default: 'vertical'\n    },\n    initialScrollOffset: {\n      type: Number,\n      default: 0\n    },\n    overscanCount: {\n      type: Number,\n      default: 1\n    },\n    placeholderCount: {\n      type: Number\n    },\n    useIsScrolling: {\n      type: Boolean,\n      default: false\n    },\n    enhanced: {\n      type: Boolean,\n      default: false\n    },\n    shouldResetStyleCacheOnItemSizeChange: {\n      type: Boolean,\n      default: true\n    },\n    outerElementType: {\n      type: String,\n      default: process.env.TARO_PLATFORM === 'web' ? 'taro-scroll-view-core' : 'scroll-view'\n    },\n    innerElementType: {\n      type: String,\n      default: process.env.TARO_PLATFORM === 'web' ? 'taro-view-core' : 'view'\n    },\n    itemElementType: {\n      type: String,\n      default: process.env.TARO_PLATFORM === 'web' ? 'taro-view-core' : 'view'\n    },\n    outerTagName: String,\n    innerTagName: String,\n    itemTagName: String,\n    outerRef: String,\n    innerRef: String,\n    onScrollNative: Function,\n    onItemsRendered: Function,\n  },\n  data () {\n    const preset = new Preset(this.$props as IProps, this.refresh as TFunc)\n    const id = this.$props.id || preset.id\n    preset.updateWrapper(id)\n\n    return {\n      itemList: preset.itemList,\n      preset,\n      instance: this,\n      isScrolling: false,\n      scrollDirection: 'forward',\n      scrollOffset:\n        typeof this.$props.initialScrollOffset === 'number'\n          ? this.$props.initialScrollOffset\n          : 0,\n      scrollUpdateWasRequested: false,\n      resetIsScrollingTimeoutId: null,\n      refreshCount: 0\n    }\n  },\n  methods: {\n    refresh () {\n      this.refreshCount = this.refreshCount + 1\n    },\n    scrollTo (scrollOffset = 0, enhanced = this.preset.enhanced) {\n      scrollOffset = Math.max(0, scrollOffset)\n      if (this.scrollOffset === scrollOffset) return\n\n      if (enhanced) {\n        const isHorizontal = this.preset.isHorizontal\n        const option: any = {\n          animated: true,\n          duration: 300,\n        }\n        if (isHorizontal) {\n          option.left = scrollOffset\n        } else {\n          option.top = scrollOffset\n        }\n        return getScrollViewContextNode(`${this.$props.queryPrefix}#${this.preset.id}`).then((node: any) => node.scrollTo(option))\n      }\n\n      this.scrollDirection = this.scrollOffset < scrollOffset ? 'forward' : 'backward'\n      this.scrollOffset = scrollOffset\n      this.scrollUpdateWasRequested = true\n\n      this.$nextTick(this._resetIsScrollingDebounced)\n    },\n\n    scrollToItem (index: number, align = 'auto', enhanced = this.preset.enhanced) {\n      const { itemCount } = this.$props\n      const { scrollOffset } = this.$data\n\n      index = Math.max(0, Math.min(index, itemCount - 1))\n\n      this.scrollTo(\n        this.itemList.getOffsetForIndexAndAlignment(\n          index,\n          align,\n          scrollOffset\n        ),\n        enhanced,\n      )\n    },\n\n    _callOnItemsRendered: memoizeOne(function (overscanStartIndex, overscanStopIndex, startIndex, stopIndex) {\n      return this.$props.onItemsRendered({\n        overscanStartIndex,\n        overscanStopIndex,\n        startIndex,\n        stopIndex\n      })\n    }),\n\n    _callOnScroll: memoizeOne(function (scrollDirection, scrollOffset, scrollUpdateWasRequested, detail) {\n      this.$emit('scroll', {\n        scrollDirection,\n        scrollOffset,\n        scrollUpdateWasRequested,\n        detail\n      })\n    }),\n\n    _callPropsCallbacks () {\n      if (typeof this.$props.onItemsRendered === 'function') {\n        if (this.$props.itemCount > 0) {\n          const [overscanStartIndex, overscanStopIndex, startIndex, stopIndex] = this._getRangeToRender()\n          this._callOnItemsRendered(overscanStartIndex, overscanStopIndex, startIndex, stopIndex)\n        }\n      }\n\n      if (typeof this.$props.onScroll === 'function') {\n        this._callOnScroll(\n          this.scrollDirection,\n          this.scrollOffset,\n          this.scrollUpdateWasRequested,\n          this.preset.field\n        )\n      }\n\n      if (this.itemList.isUnlimitedMode) {\n        setTimeout(() => {\n          const [startIndex, stopIndex] = this._getRangeToRender()\n          const isHorizontal = this.preset.isHorizontal\n          for (let index = startIndex; index <= stopIndex; index++) {\n            this._getSizeUploadSync(index, isHorizontal)\n          }\n        }, 0)\n      }\n    },\n\n    _getSizeUploadSync (index: number, isHorizontal: boolean) {\n      return new Promise((resolve) => {\n        if (index >= 0 && index < this.$props.itemCount) {\n          const times = this.itemList.compareSize(index) ? 0 : 2\n          getRectSizeSync(`${this.$props.queryPrefix}#${this.preset.id}-${index}`, 100, times).then(({ width, height }) => {\n            const size = isHorizontal ? width : height\n            if (typeof size === 'number' && size > 0 && !this.itemList.compareSize(index, size)) {\n              this.itemList.setSize(index, size)\n              resolve(this.itemList.getSize(index))\n            }\n          })\n        }\n      })\n    },\n\n    _getRangeToRender () {\n      return this.itemList.getRangeToRender(\n        this.$data.scrollDirection,\n        this.$data.scrollOffset,\n        this.$data.isScrolling\n      )\n    },\n\n    _onScrollHorizontal (event) {\n      const {\n        scrollHeight,\n        scrollWidth = this.itemList.getOffsetSizeCache(),\n        scrollTop,\n        scrollLeft,\n      } = event.currentTarget\n      if (!isNumber(scrollHeight) || !isNumber(scrollWidth)) return\n      const clientWidth = this.itemList.wrapperSize\n      this.preset.field = {\n        scrollHeight,\n        scrollWidth,\n        scrollTop,\n        scrollLeft,\n        clientHeight: scrollHeight,\n        clientWidth: scrollWidth\n      }\n      if (this.$props.onScrollNative) {\n        this.$props.onScrollNative(event)\n      }\n      const diffOffset = this.preset.field.scrollLeft - scrollLeft\n      if (this.scrollOffset === scrollLeft || this.preset.isShaking(diffOffset)) {\n        return\n      }\n\n      let scrollOffset = scrollLeft\n      if (this.preset.isRtl) {\n        // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n        // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n        // It's also easier for this component if we convert offsets to the same format as they would be in for ltr.\n        // So the simplest solution is to determine which browser behavior we're dealing with, and convert based on it.\n        switch (getRTLOffsetType()) {\n          case 'negative':\n            scrollOffset = -scrollLeft\n            break\n          case 'positive-descending':\n            scrollOffset = scrollWidth - clientWidth - scrollLeft\n            break\n        }\n      }\n\n      // Prevent Safari's elastic scrolling from causing visual shaking when scrolling past bounds.\n      scrollOffset = Math.max(\n        0,\n        Math.min(scrollOffset, scrollWidth - clientWidth)\n      )\n      this.preset.field = {\n        scrollWidth: scrollOffset,\n      }\n      this.isScrolling = true\n      this.scrollDirection = this.scrollOffset < scrollLeft ? 'forward' : 'backward'\n      this.scrollOffset = scrollOffset\n      this.scrollUpdateWasRequested = false\n      this.$nextTick(this._resetIsScrollingDebounced)\n    },\n\n    _onScrollVertical (event) {\n      const {\n        scrollHeight = this.itemList.getOffsetSizeCache(),\n        scrollWidth,\n        scrollTop,\n        scrollLeft,\n      } = event.currentTarget\n      if (!isNumber(scrollHeight) || !isNumber(scrollWidth)) return\n      const clientHeight = this.itemList.wrapperSize\n      if (this.$props.onScrollNative) {\n        this.$props.onScrollNative(event)\n      }\n      const diffOffset = this.preset.field.scrollTop - scrollTop\n      if (this.scrollOffset === scrollTop || this.preset.isShaking(diffOffset)) {\n        return\n      }\n\n      // Prevent Safari's elastic scrolling from causing visual shaking when scrolling past bounds.\n      const scrollOffset = Math.max(0, Math.min(scrollTop, scrollHeight - clientHeight))\n      this.preset.field = {\n        scrollHeight,\n        scrollWidth,\n        scrollTop: scrollOffset,\n        scrollLeft,\n        clientHeight,\n        clientWidth: scrollWidth,\n        diffOffset: this.preset.field.scrollTop - scrollOffset,\n      }\n\n      this.isScrolling = true\n      this.scrollDirection = this.scrollOffset < scrollOffset ? 'forward' : 'backward'\n      this.scrollOffset = scrollOffset\n      this.scrollUpdateWasRequested = false\n      this.$nextTick(this._resetIsScrollingDebounced)\n    },\n\n    _outerRefSetter (ref) {\n      const { outerRef } = this.$props\n      this._outerRef = ref\n\n      if (typeof outerRef === 'function') {\n        outerRef(ref)\n      } else if (outerRef != null && typeof outerRef === 'object' && outerRef.hasOwnProperty('value')) {\n        outerRef.value = ref\n      }\n    },\n\n    _resetIsScrollingDebounced () {\n      if (this.resetIsScrollingTimeoutId !== null) {\n        cancelTimeout(this.resetIsScrollingTimeoutId)\n      }\n\n      this.resetIsScrollingTimeoutId = requestTimeout(this._resetIsScrolling, IS_SCROLLING_DEBOUNCE_INTERVAL)\n    },\n\n    _resetIsScrolling () {\n      this.resetIsScrollingTimeoutId = null\n      this.isScrolling = false\n      this.$nextTick(() => {\n        this.preset.resetCache()\n      })\n    },\n\n    getRenderItemNode (index: number, type: 'node' | 'placeholder' = 'node') {\n      const { item, itemData, itemKey = defaultItemKey, useIsScrolling } = this.$props\n      const { isScrolling } = this.$data\n      const key = itemKey(index, itemData)\n\n      const style = this.preset.getItemStyle(index)\n      if (type === 'placeholder') {\n        return render(this.preset.itemElement, {\n          key,\n          id: `${this.preset.id}-${index}-wrapper`,\n          style: this.preset.isBrick ? style : { display: 'none' }\n        })\n      }\n\n      return render(this.preset.itemElement, {\n        key: itemKey(index, itemData),\n        id: `${this.preset.id}-${index}-wrapper`,\n        style\n      }, render(item, {\n        id: `${this.preset.id}-${index}`,\n        data: itemData,\n        index,\n        isScrolling: useIsScrolling ? isScrolling : undefined\n      }))\n    },\n\n    getRenderColumnNode () {\n      const { isScrolling } = this.$data\n      const { innerRef, itemCount } = this.$props\n      const isHorizontal = this.preset.isHorizontal\n      // Read this value AFTER items have been created,\n      // So their actual sizes (if variable) are taken into consideration.\n      const estimatedTotalSize = convertNumber2PX(this.itemList.getOffsetSize())\n      const columnProps: any = {\n        ref: innerRef,\n        key: `${this.preset.id}-inner`,\n        id: `${this.preset.id}-inner`,\n        style: {\n          height: isHorizontal ? '100%' : estimatedTotalSize,\n          width: !isHorizontal ? '100%' : estimatedTotalSize,\n          position: 'relative',\n          pointerEvents: isScrolling ? 'none' : 'auto',\n        }\n      }\n\n      const [startIndex, stopIndex] = this._getRangeToRender()\n      const items = []\n\n      if (this.preset.isRelative && !this.preset.isBrick) {\n        const pre = convertNumber2PX(this.itemList.getOffsetSizeCache(startIndex))\n        items.push(\n          render(this.preset.itemElement, {\n            key: `${this.preset.id}-pre`,\n            id: `${this.preset.id}-pre`,\n            style: {\n              height: isHorizontal ? '100%' : pre,\n              width: !isHorizontal ? '100%' : pre\n            }\n          })\n        )\n      }\n\n      const placeholderCount = this.preset.placeholderCount\n      const restCount = itemCount - stopIndex\n      const prevPlaceholder = startIndex < placeholderCount ? startIndex : placeholderCount\n      const postPlaceholder = restCount < placeholderCount ? restCount : placeholderCount\n\n      for (let itemIndex = 0; itemIndex < stopIndex + postPlaceholder; itemIndex++) {\n        if (!this.preset.isBrick) {\n          if (itemIndex < startIndex - prevPlaceholder) {\n            itemIndex = startIndex - prevPlaceholder\n            continue\n          }\n        }\n\n        if (itemIndex < startIndex || itemIndex > stopIndex) {\n          items.push(this.getRenderItemNode(itemIndex, 'placeholder'))\n        } else {\n          items.push(this.getRenderItemNode(itemIndex))\n        }\n      }\n      return render(this.preset.innerElement, columnProps, items)\n    },\n    getRenderExpandNodes (direction: 'top' | 'bottom' | 'left' | 'right') {\n      const isHorizontal = this.preset.isHorizontal\n      const isRtl = this.preset.isRtl\n      const props: any = {\n        id: `${this.preset.id}-${direction}`,\n        style: {\n          visibility: 'hidden',\n          height: isHorizontal ? '100%' : 100,\n          width: isHorizontal ? 100 : '100%',\n          [isHorizontal ? isRtl ? 'marginRight' : 'marginLeft' : 'marginTop']: -100,\n          zIndex: -1,\n        }\n      }\n      return render(this.preset.innerElement, props)\n    }\n  },\n  mounted () {\n    const { initialScrollOffset } = this.$props\n\n    if (typeof initialScrollOffset === 'number' && this._outerRef != null) {\n      const outerRef = this._outerRef\n      if (this.preset.isHorizontal) {\n        outerRef.scrollLeft = initialScrollOffset\n      } else {\n        outerRef.scrollTop = initialScrollOffset\n      }\n    }\n\n    this._callPropsCallbacks()\n    this.preset.boundaryDetection()\n  },\n  updated () {\n    this.preset.update(this.$props)\n\n    const { scrollOffset, scrollUpdateWasRequested } = this.$data\n\n    if (scrollUpdateWasRequested && this._outerRef != null) {\n      const outerRef = this._outerRef\n\n      if (this.preset.isHorizontal) {\n        if (this.preset.isRtl) {\n          // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n          // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n          // So we need to determine which browser behavior we're dealing with, and mimic it.\n          switch (getRTLOffsetType()) {\n            case 'negative':\n              outerRef.scrollLeft = -scrollOffset\n              break\n            case 'positive-ascending':\n              outerRef.scrollLeft = scrollOffset\n              break\n            default: {\n              const { clientWidth, scrollWidth } = outerRef\n              outerRef.scrollLeft = scrollWidth - clientWidth - scrollOffset\n              break\n            }\n          }\n        } else {\n          outerRef.scrollLeft = scrollOffset\n        }\n      } else {\n        outerRef.scrollTop = scrollOffset\n      }\n    }\n\n    this._callPropsCallbacks()\n  },\n\n  beforeDestroy () {\n    if (this.resetIsScrollingTimeoutId !== null) {\n      cancelTimeout(this.resetIsScrollingTimeoutId)\n    }\n    this.preset.dispose()\n  },\n\n  render () {\n    const {\n      direction,\n      height,\n      layout,\n      width,\n      enhanced = false\n    } = omit(this.$props, [\n      'item', 'itemCount', 'itemData', 'itemKey', 'useIsScrolling',\n      'innerElementType', 'innerTagName', 'itemElementType', 'itemTagName',\n      'outerElementType', 'outerTagName', 'onScrollToLower', 'onScrollToUpper',\n      'upperThreshold', 'lowerThreshold',\n      'position', 'innerRef',\n    ])\n    const {\n      scrollOffset,\n      scrollUpdateWasRequested\n    } = this.$data\n\n    const isHorizontal = this.preset.isHorizontal\n    const isRtl = this.preset.isRtl\n    const outerElementProps: any = {\n      id: this.preset.id,\n      ref: this._outerRefSetter,\n      layout,\n      enhanced,\n      style: {\n        position: 'relative',\n        height: convertNumber2PX(height),\n        width: convertNumber2PX(width),\n        overflow: 'auto',\n        WebkitOverflowScrolling: 'touch',\n        willChange: 'transform',\n        direction\n      },\n      attrs: {\n        scrollY: !this.preset.isHorizontal,\n        scrollX: this.preset.isHorizontal\n      },\n      on: {\n        scroll: isHorizontal\n          ? this._onScrollHorizontal\n          : this._onScrollVertical\n      }\n    }\n\n    if (!enhanced) {\n      if (isHorizontal) {\n        outerElementProps.scrollLeft = scrollUpdateWasRequested ? scrollOffset : this.preset.field.scrollLeft\n      } else {\n        outerElementProps.scrollTop = scrollUpdateWasRequested ? scrollOffset : this.preset.field.scrollTop\n      }\n    }\n\n    return render(this.preset.outerElement, outerElementProps, [\n      this.getRenderExpandNodes(isHorizontal ? isRtl ? 'right' : 'left' : 'top'),\n      process.env.FRAMEWORK === 'vue3' ? this.$slots.top?.() : this.$slots.top,\n      this.getRenderColumnNode(),\n      process.env.FRAMEWORK === 'vue3' ? this.$slots.bottom?.() : this.$slots.bottom,\n      this.getRenderExpandNodes(isHorizontal ? isRtl ? 'left' : 'right' : 'bottom'),\n    ])\n  }\n})\n"],"names":[],"mappings":"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"}