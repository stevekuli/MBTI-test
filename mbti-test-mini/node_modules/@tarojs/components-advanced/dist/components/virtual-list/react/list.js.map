{"version":3,"file":"list.js","sources":["../../../../src/components/virtual-list/react/list.ts"],"sourcesContent":["import { isNumber } from '@tarojs/shared'\nimport memoizeOne from 'memoize-one'\nimport React from 'react'\n\nimport { cancelTimeout, convertNumber2PX, defaultItemKey, getRectSizeSync, getScrollViewContextNode, omit, requestTimeout } from '../../../utils'\nimport { IS_SCROLLING_DEBOUNCE_INTERVAL } from '../constants'\nimport { getRTLOffsetType } from '../dom-helpers'\nimport ListSet from '../list-set'\nimport Preset from '../preset'\nimport { validateListProps } from './validate'\n\nimport type { IProps } from '../preset'\n\nexport interface IState {\n  instance: List\n  isScrolling: boolean\n  scrollDirection: 'forward' | 'backward'\n  scrollOffset: number\n  scrollUpdateWasRequested: boolean\n  refreshCount: number\n}\n\nexport default class List extends React.PureComponent<IProps, IState> {\n  static defaultProps: IProps = {\n    direction: 'ltr',\n    itemData: undefined,\n    layout: 'vertical',\n    overscanCount: 2,\n    useIsScrolling: false,\n    shouldResetStyleCacheOnItemSizeChange: true\n  }\n\n  static getDerivedStateFromProps (nextProps: IProps, prevState: IState) {\n    return validateListProps(nextProps, prevState)\n  }\n\n  itemList: ListSet\n  preset: Preset\n\n  constructor (props: IProps) {\n    super(props)\n\n    this.preset = new Preset(\n      props,\n      this.refresh,\n    )\n    this.itemList = this.preset.itemList\n    const id = this.props.id || this.preset.id\n    this.preset.updateWrapper(id)\n\n    this.state = {\n      instance: this,\n      isScrolling: false,\n      scrollDirection: 'forward',\n      scrollOffset:\n        typeof this.props.initialScrollOffset === 'number'\n          ? this.props.initialScrollOffset\n          : 0,\n      scrollUpdateWasRequested: false,\n      refreshCount: 0,\n    }\n  }\n\n  refresh = () => {\n    if (process.env.FRAMEWORK === 'preact') {\n      this.forceUpdate()\n    } else {\n      this.setState(({ refreshCount }) => ({\n        refreshCount: ++refreshCount\n      }))\n    }\n  }\n\n  _outerRef = undefined\n\n  _resetIsScrollingTimeoutId = null\n\n  _callOnItemsRendered = memoizeOne((overscanStartIndex, overscanStopIndex, startIndex, stopIndex) => this.props.onItemsRendered({\n    overscanStartIndex,\n    overscanStopIndex,\n    startIndex,\n    stopIndex\n  }))\n\n  _callOnScroll = memoizeOne((scrollDirection, scrollOffset, scrollUpdateWasRequested, detail) => this.props.onScroll({\n    scrollDirection,\n    scrollOffset,\n    scrollUpdateWasRequested,\n    detail\n  } as any))\n\n  _callPropsCallbacks (prevProps: any = {}, prevState: any = {}) {\n    if (typeof this.props.onItemsRendered === 'function') {\n      if (this.props.itemCount > 0) {\n        if (prevProps && prevProps.itemCount !== this.props.itemCount) {\n          const [overscanStartIndex, overscanStopIndex, startIndex, stopIndex] = this._getRangeToRender()\n\n          this._callOnItemsRendered(overscanStartIndex, overscanStopIndex, startIndex, stopIndex)\n        }\n      }\n    }\n\n    if (typeof this.props.onScroll === 'function') {\n      if (!prevState ||\n        prevState.scrollDirection !== this.state.scrollDirection ||\n        prevState.scrollOffset !== this.state.scrollOffset ||\n        prevState.scrollUpdateWasRequested !== this.state.scrollUpdateWasRequested\n      ) {\n        this._callOnScroll(\n          this.state.scrollDirection,\n          this.state.scrollOffset,\n          this.state.scrollUpdateWasRequested,\n          this.preset.field\n        )\n      }\n    }\n\n    if (this.itemList.isUnlimitedMode) {\n      setTimeout(() => {\n        const [startIndex, stopIndex] = this._getRangeToRender()\n        const isHorizontal = this.preset.isHorizontal\n        for (let index = startIndex; index <= stopIndex; index++) {\n          this._getSizeUploadSync(index, isHorizontal)\n        }\n      }, 0)\n    }\n  }\n\n  _getSizeUploadSync = (index: number, isHorizontal: boolean) => {\n    return new Promise((resolve) => {\n      if (index >= 0 && index < this.props.itemCount) {\n        const times = this.itemList.compareSize(index) ? 3 : 0\n        getRectSizeSync(`${this.props.queryPrefix}#${this.preset.id}-${index}`, 100, times).then(({ width, height }) => {\n          const size = isHorizontal ? width : height\n          if (typeof size === 'number' && size > 0 && !this.itemList.compareSize(index, size)) {\n            this.itemList.setSize(index, size)\n            resolve(this.itemList.getSize(index))\n          }\n        })\n      }\n    })\n  }\n\n  // Lazily create and cache item styles while scrolling,\n  // So that pure component sCU will prevent re-renders.\n  // We maintain this cache, and pass a style prop rather than index,\n  // So that List can clear cached styles and force item re-render if necessary.\n  _getRangeToRender () {\n    return this.itemList.getRangeToRender(\n      this.state.scrollDirection,\n      this.state.scrollOffset,\n      this.state.isScrolling\n    )\n  }\n\n  _onScrollHorizontal = event => {\n    const {\n      scrollHeight,\n      scrollWidth = this.itemList.getOffsetSizeCache(),\n      scrollTop,\n      scrollLeft,\n    } = event.currentTarget\n    if (!isNumber(scrollHeight) || !isNumber(scrollWidth)) return\n    const clientWidth = this.itemList.wrapperSize\n    this.preset.field = {\n      scrollHeight,\n      scrollWidth,\n      scrollTop,\n      scrollLeft,\n      clientHeight: scrollHeight,\n      clientWidth: scrollWidth\n    }\n    this.setState((prevState: any) => {\n      const diffOffset = this.preset.field.scrollLeft - scrollLeft\n      if (prevState.scrollOffset === scrollLeft || this.preset.isShaking(diffOffset)) {\n        // Scroll position may have been updated by cDM/cDU,\n        // In which case we don't need to trigger another render,\n        // And we don't want to update state.isScrolling.\n        return null\n      }\n\n      let scrollOffset = scrollLeft\n\n      if (this.preset.isRtl) {\n        // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n        // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n        // It's also easier for this component if we convert offsets to the same format as they would be in for ltr.\n        // So the simplest solution is to determine which browser behavior we're dealing with, and convert based on it.\n        switch (getRTLOffsetType()) {\n          case 'negative':\n            scrollOffset = -scrollLeft\n            break\n\n          case 'positive-descending':\n            scrollOffset = scrollWidth - clientWidth - scrollLeft\n            break\n        }\n      } // Prevent Safari's elastic scrolling from causing visual shaking when scrolling past bounds.\n\n      this.preset.field = {\n        scrollWidth: scrollOffset,\n      }\n      return {\n        isScrolling: true,\n        scrollDirection: prevState.scrollOffset < scrollLeft ? 'forward' : 'backward',\n        scrollOffset,\n        scrollUpdateWasRequested: false\n      }\n    }, this._resetIsScrollingDebounced)\n  }\n\n  _onScrollVertical = event => {\n    const {\n      scrollHeight = this.itemList.getOffsetSizeCache(),\n      scrollWidth,\n      scrollTop,\n      scrollLeft\n    } = event.currentTarget\n    if (!isNumber(scrollHeight) || !isNumber(scrollWidth)) return\n    const clientHeight = this.itemList.wrapperSize\n    this.setState((prevState: IState) => {\n      const diffOffset = this.preset.field.scrollTop - scrollTop\n      if (prevState.scrollOffset === scrollTop || this.preset.isShaking(diffOffset)) {\n        // Scroll position may have been updated by cDM/cDU,\n        // In which case we don't need to trigger another render,\n        // And we don't want to update state.isScrolling.\n        return null\n      }\n      // FIXME preact 中使用时，该组件会出现触底滚动事件重复触发导致的抖动问题，后续修复\n      // Prevent Safari's elastic scrolling from causing visual shaking when scrolling past bounds.\n      const scrollOffset = Math.max(0, Math.min(scrollTop, scrollHeight - clientHeight))\n      this.preset.field = {\n        scrollHeight,\n        scrollWidth,\n        scrollTop: scrollOffset,\n        scrollLeft,\n        clientHeight,\n        clientWidth: scrollWidth,\n        diffOffset: this.preset.field.scrollTop - scrollOffset,\n      }\n      return {\n        isScrolling: true,\n        scrollDirection: prevState.scrollOffset < scrollOffset ? 'forward' : 'backward',\n        scrollOffset,\n        scrollUpdateWasRequested: false\n      }\n    }, this._resetIsScrollingDebounced)\n  }\n\n  _outerRefSetter = ref => {\n    const {\n      outerRef\n    } = this.props\n    this._outerRef = ref\n\n    if (typeof outerRef === 'function') {\n      outerRef(ref)\n    } else if (outerRef != null && typeof outerRef === 'object' && outerRef.hasOwnProperty('current')) {\n      // @ts-ignore\n      outerRef.current = ref\n    }\n  }\n\n  _resetIsScrollingDebounced = () => {\n    if (this._resetIsScrollingTimeoutId !== null) {\n      cancelTimeout(this._resetIsScrollingTimeoutId)\n    }\n\n    this._resetIsScrollingTimeoutId = requestTimeout(this._resetIsScrolling, IS_SCROLLING_DEBOUNCE_INTERVAL)\n  }\n\n  _resetIsScrolling = () => {\n    this._resetIsScrollingTimeoutId = null\n    this.setState({\n      isScrolling: false\n    }, () => {\n      // Clear style cache after state update has been committed.\n      // This way we don't break pure sCU for items that don't use isScrolling param.\n      this.preset.resetCache()\n    })\n  }\n\n  public scrollTo (scrollOffset = 0, enhanced = this.preset.enhanced) {\n    scrollOffset = Math.max(0, scrollOffset)\n    if (this.state.scrollOffset === scrollOffset) return\n\n    if (enhanced) {\n      const isHorizontal = this.preset.isHorizontal\n      const option: any = {\n        animated: true,\n        duration: 300,\n      }\n      if (isHorizontal) {\n        option.left = scrollOffset\n      } else {\n        option.top = scrollOffset\n      }\n      return getScrollViewContextNode(`${this.props.queryPrefix}#${this.preset.id}`).then((node: any) => node.scrollTo(option))\n    }\n\n    this.setState((prevState: IState) => {\n      if (prevState.scrollOffset === scrollOffset) {\n        return null\n      }\n\n      return {\n        scrollDirection: prevState.scrollOffset < scrollOffset ? 'forward' : 'backward',\n        scrollOffset,\n        scrollUpdateWasRequested: true\n      }\n    }, this._resetIsScrollingDebounced)\n  }\n\n  public scrollToItem (index: number, align = 'auto', enhanced = this.preset.enhanced) {\n    const { itemCount } = this.props\n    const { scrollOffset } = this.state\n    index = Math.max(0, Math.min(index, itemCount - 1))\n    this.scrollTo(this.itemList.getOffsetForIndexAndAlignment(index, align, scrollOffset), enhanced)\n  }\n\n  componentDidMount () {\n    const { initialScrollOffset } = this.props\n\n    if (typeof initialScrollOffset === 'number' && this._outerRef != null) {\n      const outerRef = this._outerRef\n\n      if (this.preset.isHorizontal) {\n        outerRef.scrollLeft = initialScrollOffset\n      } else {\n        outerRef.scrollTop = initialScrollOffset\n      }\n    }\n\n    this._callPropsCallbacks()\n    this.preset.boundaryDetection()\n  }\n\n  componentDidUpdate (prevProps: IProps, prevState: IState) {\n    const { scrollOffset, scrollUpdateWasRequested } = this.state\n\n    this.preset.update(this.props)\n\n    if (scrollUpdateWasRequested && this._outerRef != null) {\n      const outerRef = this._outerRef\n\n      if (this.preset.isHorizontal) {\n        if (this.preset.isRtl) {\n          // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n          // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n          // So we need to determine which browser behavior we're dealing with, and mimic it.\n          switch (getRTLOffsetType()) {\n            case 'negative':\n              outerRef.scrollLeft = -scrollOffset\n              break\n\n            case 'positive-ascending':\n              outerRef.scrollLeft = scrollOffset\n              break\n\n            default:\n              outerRef.scrollLeft = outerRef.scrollWidth - outerRef.clientWidth - scrollOffset\n              break\n          }\n        } else {\n          outerRef.scrollLeft = scrollOffset\n        }\n      } else {\n        outerRef.scrollTop = scrollOffset\n      }\n    }\n\n    this._callPropsCallbacks(prevProps, prevState)\n  }\n\n  componentWillUnmount () {\n    if (this._resetIsScrollingTimeoutId !== null) {\n      cancelTimeout(this._resetIsScrollingTimeoutId)\n    }\n    this.preset.dispose()\n  }\n\n  getRenderItemNode (index: number, type: 'node' | 'placeholder' = 'node') {\n    const { item, itemData, itemKey = defaultItemKey, useIsScrolling } = this.props\n    const { isScrolling } = this.state\n    const key = itemKey(index, itemData)\n\n    const style = this.preset.getItemStyle(index)\n    if (type === 'placeholder') {\n      return React.createElement<any>(this.preset.itemElement, {\n        key,\n        id: `${this.preset.id}-${index}-wrapper`,\n        style: this.preset.isBrick ? style : { display: 'none' }\n      })\n    }\n\n    return React.createElement<any>(this.preset.itemElement, {\n      key: itemKey(index, itemData),\n      id: `${this.preset.id}-${index}-wrapper`,\n      style\n    }, React.createElement(item, {\n      id: `${this.preset.id}-${index}`,\n      data: itemData,\n      index,\n      isScrolling: useIsScrolling ? isScrolling : undefined\n    }))\n  }\n\n  getRenderColumnNode () {\n    const { isScrolling } = this.state\n    const { innerRef, itemCount } = this.props\n    const isHorizontal = this.preset.isHorizontal\n    // Read this value AFTER items have been created,\n    // So their actual sizes (if variable) are taken into consideration.\n    const estimatedTotalSize = convertNumber2PX(this.itemList.getOffsetSize())\n    const columnProps: any = {\n      ref: innerRef,\n      key: `${this.preset.id}-inner`,\n      id: `${this.preset.id}-inner`,\n      style: {\n        height: isHorizontal ? '100%' : estimatedTotalSize,\n        width: !isHorizontal ? '100%' : estimatedTotalSize,\n        position: 'relative',\n        pointerEvents: isScrolling ? 'none' : 'auto',\n      }\n    }\n\n    const [startIndex, stopIndex] = this._getRangeToRender()\n    const items = []\n\n    if (this.preset.isRelative && !this.preset.isBrick) {\n      const pre = convertNumber2PX(this.itemList.getOffsetSizeCache(startIndex))\n      items.push(\n        React.createElement<any>(this.preset.itemElement, {\n          key: `${this.preset.id}-pre`,\n          id: `${this.preset.id}-pre`,\n          style: {\n            height: isHorizontal ? '100%' : pre,\n            width: !isHorizontal ? '100%' : pre\n          }\n        })\n      )\n    }\n\n    const placeholderCount = this.preset.placeholderCount\n    const restCount = itemCount - stopIndex\n    const prevPlaceholder = startIndex < placeholderCount ? startIndex : placeholderCount\n    const postPlaceholder = restCount < placeholderCount ? restCount : placeholderCount\n\n    for (let itemIndex = 0; itemIndex < stopIndex + postPlaceholder; itemIndex++) {\n      if (!this.preset.isBrick) {\n        if (itemIndex < startIndex - prevPlaceholder) {\n          itemIndex = startIndex - prevPlaceholder\n          continue\n        }\n      }\n\n      if (itemIndex < startIndex || itemIndex > stopIndex) {\n        items.push(this.getRenderItemNode(itemIndex, 'placeholder'))\n      } else {\n        items.push(this.getRenderItemNode(itemIndex))\n      }\n    }\n    return React.createElement<any>(this.preset.innerElement, columnProps, items)\n  }\n\n  render () {\n    const {\n      className,\n      direction,\n      height,\n      layout,\n      style,\n      width,\n      enhanced = false,\n      outerWrapper,\n      renderTop,\n      renderBottom,\n      ...rest\n    } = omit(this.props, [\n      'item', 'itemCount', 'itemData', 'itemKey', 'useIsScrolling',\n      'innerElementType', 'innerTagName', 'itemElementType', 'itemTagName',\n      'outerElementType', 'outerTagName', 'onScrollToLower', 'onScrollToUpper',\n      'upperThreshold', 'lowerThreshold',\n      'position', 'innerRef',\n    ])\n    const {\n      scrollOffset,\n      scrollUpdateWasRequested\n    } = this.state\n\n    const isHorizontal = this.preset.isHorizontal\n\n    const outerProps: any = {\n      ...rest,\n      id: this.preset.id,\n      className,\n      onScroll: isHorizontal ? this._onScrollHorizontal : this._onScrollVertical,\n      ref: this._outerRefSetter,\n      layout,\n      enhanced,\n      style: {\n        position: 'relative',\n        height: convertNumber2PX(height),\n        width: convertNumber2PX(width),\n        overflow: 'auto',\n        WebkitOverflowScrolling: 'touch',\n        willChange: 'transform',\n        direction,\n        ...style\n      },\n      outerElementType: this.preset.outerElement,\n      innerElementType: this.preset.innerElement,\n      renderTop,\n      renderBottom,\n    }\n\n    if (!enhanced) {\n      if (isHorizontal) {\n        outerProps.scrollLeft = scrollUpdateWasRequested ? scrollOffset : this.preset.field.scrollLeft\n      } else {\n        outerProps.scrollTop = scrollUpdateWasRequested ? scrollOffset : this.preset.field.scrollTop\n      }\n    }\n\n    return React.createElement(\n      outerWrapper || this.preset.outerElement,\n      outerProps,\n      this.getRenderColumnNode(),\n    )\n  }\n}\n\n// NOTE: I considered further wrapping individual items with a pure ListItem component.\n// This would avoid ever calling the render function for the same index more than once,\n// But it would also add the overhead of a lot of components/fibers.\n// I assume people already do this (render function returning a class component),\n// So my doing it would just unnecessarily double the wrappers.\n"],"names":[],"mappings":"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"}