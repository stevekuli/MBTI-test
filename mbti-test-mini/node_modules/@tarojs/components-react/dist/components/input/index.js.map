{"version":3,"file":"index.js","sources":["../../../src/components/input/index.tsx"],"sourcesContent":["import './style/index.scss'\n\nimport classNames from 'classnames'\nimport React from 'react'\n\nimport { omit } from '../../utils'\n\nfunction getTrueType (type: string | undefined, confirmType: string, password: boolean) {\n  if (confirmType === 'search') type = 'search'\n  if (password) type = 'password'\n  if (typeof type === 'undefined') {\n    return 'text'\n  }\n  if (!type) {\n    throw new Error('unexpected type')\n  }\n  if (type === 'digit') type = 'number'\n\n  return type\n}\n\nfunction fixControlledValue (value) {\n  return value ?? ''\n}\n\ninterface IProps extends Omit<React.ButtonHTMLAttributes<HTMLButtonElement>, 'type'> {\n  password?: boolean\n  disabled?: boolean\n  maxlength?: number\n  placeholder?: string\n  value?: string\n  focus?: boolean\n  confirmType?: string\n  name?: string\n  type?: string\n  onConfirm?: (e) => void\n}\n\nclass Input extends React.Component<IProps, null> {\n  constructor (props) {\n    super(props)\n    this.handleInput = this.handleInput.bind(this)\n    this.handlePaste = this.handlePaste.bind(this)\n    this.handleFocus = this.handleFocus.bind(this)\n    this.handleBlur = this.handleBlur.bind(this)\n    this.handleKeyDown = this.handleKeyDown.bind(this)\n    this.handleComposition = this.handleComposition.bind(this)\n    this.handleBeforeInput = this.handleBeforeInput.bind(this)\n    this.isOnComposition = false\n    this.onInputExcuted = false\n  }\n\n  inputRef: HTMLInputElement\n  isOnComposition: boolean\n  onInputExcuted: boolean\n\n  componentDidMount () {\n    // 修复无法选择文件\n    if (this.props.type === 'file') {\n      this.inputRef?.addEventListener('change', this.handleInput)\n    } else {\n      this.inputRef?.addEventListener('textInput', this.handleBeforeInput)\n    }\n\n    // 处理初始化是否 focus\n    if (this.props.focus && this.inputRef) this.inputRef.focus()\n  }\n\n\n  componentWillUnmount () {\n    // 修复无法选择文件\n    if (this.props.type === 'file') {\n      this.inputRef.removeEventListener('change', this.handleInput)\n    } else {\n      this.inputRef?.removeEventListener('textInput', this.handleBeforeInput)\n    }\n  }\n\n  UNSAFE_componentWillReceiveProps (nextProps: Readonly<IProps>) {\n    if (!this.props.focus && nextProps.focus && this.inputRef) this.inputRef.focus()\n  }\n\n\n  handleInput (e) {\n    e.stopPropagation()\n    const {\n      type,\n      maxlength = 140,\n      confirmType = 'done',\n      password = false,\n      onInput\n    } = this.props\n\n    if (!this.isOnComposition && !this.onInputExcuted) {\n      let { value } = e.target\n      const inputType = getTrueType(type, confirmType, password)\n      this.onInputExcuted = true\n      /* 修复 number 类型 maxLength 无效 */\n      if (inputType === 'number' && value && maxlength <= value.length) {\n        value = value.substring(0, maxlength)\n        e.target.value = value\n      }\n\n      Object.defineProperty(e, 'detail', {\n        value: { value, cursor: value.length }\n      })\n      // // 修复 IOS 光标跳转问题\n      // if (!(['number', 'file'].indexOf(inputType) >= 0)) {\n      //   const pos = e.target.selectionEnd\n      //   setTimeout(\n      //     () => {\n      //       e.target.selectionStart = pos\n      //       e.target.selectionEnd = pos\n      //     }\n      //   )\n      // }\n\n      typeof onInput === 'function' && onInput(e)\n      this.onInputExcuted = false\n    }\n  }\n\n\n  handlePaste (e) {\n    e.stopPropagation()\n    const { onPaste } = this.props\n    this.onInputExcuted = false\n    Object.defineProperty(e, 'detail', {\n      value: {\n        value: e.target.value\n      }\n    })\n    typeof onPaste === 'function' && onPaste(e)\n  }\n\n  handleFocus (e) {\n    e.stopPropagation()\n    const { onFocus } = this.props\n    this.onInputExcuted = false\n    Object.defineProperty(e, 'detail', {\n      value: {\n        value: e.target.value\n      }\n    })\n    onFocus && onFocus(e)\n  }\n\n  handleBlur (e) {\n    e.stopPropagation()\n    const { onBlur } = this.props\n    Object.defineProperty(e, 'detail', {\n      value: {\n        value: e.target.value\n      }\n    })\n    onBlur && onBlur(e)\n  }\n\n  handleKeyDown (e) {\n    e.stopPropagation()\n    const { onConfirm, onKeyDown } = this.props\n    const { value } = e.target\n    const keyCode = e.keyCode || e.code\n    this.onInputExcuted = false\n\n    if (typeof onKeyDown === 'function') {\n      Object.defineProperty(e, 'detail', {\n        value: {\n          value,\n          cursor: value.length,\n          keyCode\n        }\n      })\n      onKeyDown(e)\n    }\n\n    if (e.keyCode === 13 && typeof onConfirm === 'function') {\n      Object.defineProperty(e, 'detail', {\n        value: {\n          value\n        }\n      })\n      onConfirm(e)\n    }\n  }\n\n  handleComposition (e) {\n    e.stopPropagation()\n    if (!(e.target instanceof HTMLInputElement)) return\n\n    if (e.type === 'compositionend') {\n      this.isOnComposition = false\n      this.handleInput(e)\n    } else {\n      this.isOnComposition = true\n    }\n  }\n\n  handleBeforeInput = (e) => {\n    if (!e.data) return\n    const isNumber = e.data && /[0-9]/.test(e.data)\n    if (this.props.type === 'number' && !isNumber) {\n      e.preventDefault()\n    }\n    if (this.props.type === 'digit' && !isNumber) {\n      if (e.data !== '.' || (e.data === '.' && e.target.value.indexOf('.') > -1)) {\n        e.preventDefault()\n      }\n    }\n  }\n\n  render () {\n    const {\n      className = '',\n      placeholder,\n      type,\n      password = false,\n      disabled = false,\n      maxlength = 140,\n      confirmType = 'done',\n      name,\n      value\n    } = this.props\n    const cls = classNames('taro-input-core', 'weui-input', className)\n\n    const otherProps = omit(this.props, [\n      'className',\n      'placeholder',\n      'disabled',\n      'password',\n      'type',\n      'maxlength',\n      'confirmType',\n      'focus',\n      'name'\n    ])\n\n    if ('value' in this.props) {\n      otherProps.value = fixControlledValue(value)\n    }\n\n    return (\n      <input\n        ref={(input: HTMLInputElement) => {\n          this.inputRef = input\n        }}\n        {...otherProps}\n        className={cls}\n        type={getTrueType(type, confirmType, password)}\n        placeholder={placeholder}\n        disabled={disabled}\n        maxLength={maxlength}\n        name={name}\n        onInput={this.handleInput}\n        onPaste={this.handlePaste}\n        onFocus={this.handleFocus}\n        onBlur={this.handleBlur}\n        onKeyDown={this.handleKeyDown}\n        onCompositionStart={this.handleComposition}\n        onCompositionEnd={this.handleComposition}\n        onBeforeInput={this.handleBeforeInput}\n      />\n    )\n  }\n}\n\nexport default Input\n"],"names":["getTrueType","type","confirmType","password","Error","fixControlledValue","value","Input","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","handleBeforeInput","e","data","isNumber","test","preventDefault","target","indexOf","handleInput","bind","_assertThisInitialized","handlePaste","handleFocus","handleBlur","handleKeyDown","handleComposition","isOnComposition","onInputExcuted","_createClass","key","componentDidMount","_a","inputRef","addEventListener","_b","focus","componentWillUnmount","removeEventListener","UNSAFE_componentWillReceiveProps","nextProps","stopPropagation","_this$props","_this$props$maxlength","maxlength","_this$props$confirmTy","_this$props$password","onInput","inputType","length","substring","Object","defineProperty","cursor","onPaste","onFocus","onBlur","_this$props2","onConfirm","onKeyDown","keyCode","code","HTMLInputElement","render","_this2","_this$props3","_this$props3$classNam","className","placeholder","_this$props3$password","_this$props3$disabled","disabled","_this$props3$maxlengt","_this$props3$confirmT","name","cls","classNames","otherProps","omit","React","createElement","assign","ref","input","maxLength","onCompositionStart","onCompositionEnd","onBeforeInput","Component"],"mappings":"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"}