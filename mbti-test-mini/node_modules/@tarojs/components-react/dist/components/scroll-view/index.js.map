{"version":3,"file":"index.js","sources":["../../../src/components/scroll-view/index.tsx"],"sourcesContent":["import './style/index.css'\n\nimport classNames from 'classnames'\nimport React from 'react'\n\nimport { throttle } from '../../utils'\n\nfunction easeOutScroll (from = 0, to = 0, callback) {\n  if (from === to || typeof from !== 'number') {\n    return\n  }\n  const change = to - from\n  const dur = 500\n  const sTime = +new Date()\n  function linear (t, b, c, d) {\n    return (c * t) / d + b\n  }\n  const isLarger = to >= from\n\n  function step () {\n    from = linear(+new Date() - sTime, from, change, dur)\n    if ((isLarger && from >= to) || (!isLarger && to >= from)) {\n      callback(to)\n      return\n    }\n    callback(from)\n    requestAnimationFrame(step)\n  }\n  step()\n}\n\nfunction scrollIntoView (id = '', isHorizontal = false, animated = true, scrollIntoViewAlignment?: ScrollLogicalPosition) {\n  document.querySelector(`#${id}`)?.scrollIntoView({\n    behavior: animated ? 'smooth' : 'auto',\n    block: !isHorizontal ? (scrollIntoViewAlignment || 'center') : 'center',\n    inline: isHorizontal ? (scrollIntoViewAlignment || 'start') : 'start'\n  })\n}\n\nfunction scrollVertical (top, isAnimation) {\n  if (isAnimation) {\n    easeOutScroll(this._scrollTop, top, pos => {\n      if (this.container) this.container.scrollTop = pos\n    })\n  } else {\n    if (this.container) this.container.scrollTop = top\n  }\n  this._scrollTop = top\n}\n\nfunction scrollHorizontal (left, isAnimation) {\n  if (isAnimation) {\n    easeOutScroll(this._scrollLeft, left, pos => {\n      if (this.container) this.container.scrollLeft = pos\n    })\n  } else {\n    if (this.container) this.container.scrollLeft = left\n  }\n  this._scrollLeft = left\n}\n\ninterface IProps extends React.HTMLAttributes<HTMLDivElement> {\n  scrollX: boolean\n  scrollY: boolean\n  upperThreshold: number\n  lowerThreshold: number\n  scrollTop: number\n  scrollLeft: number\n  scrollIntoView?: string\n  scrollIntoViewAlignment?: ScrollLogicalPosition\n  scrollWithAnimation: boolean\n  enableBackToTop?: boolean\n  onScrollToUpper: (e: React.SyntheticEvent<HTMLDivElement, Event>) => void\n  onScrollToLower: (e: React.SyntheticEvent<HTMLDivElement, Event>) => void\n  onScroll: (e: React.SyntheticEvent<HTMLDivElement, Event>) => void\n  onTouchMove: (e: React.SyntheticEvent<HTMLDivElement, Event>) => void\n}\n\nclass ScrollView extends React.Component<IProps> {\n  _scrollTop: any = null\n  _scrollLeft: any = null\n  container: any = null\n\n  onTouchMove = e => {\n    e.stopPropagation()\n  }\n\n  componentDidMount () {\n    this.handleScroll(this.props, true)\n  }\n\n  UNSAFE_componentWillReceiveProps (nextProps) {\n    this.handleScroll(nextProps)\n  }\n\n  handleScroll (props: IProps, isInit = false) {\n    // scrollIntoView\n    if (\n      props.scrollIntoView &&\n      typeof props.scrollIntoView === 'string' &&\n      document &&\n      document.querySelector &&\n      document.querySelector(`#${props.scrollIntoView}`)\n    ) {\n      const isHorizontal = props.scrollX && !props.scrollY\n      if (isInit) {\n        setTimeout(() => scrollIntoView(props.scrollIntoView, props.scrollWithAnimation, isHorizontal, props.scrollIntoViewAlignment), 500)\n      } else {\n        scrollIntoView(props.scrollIntoView, props.scrollWithAnimation, isHorizontal, props.scrollIntoViewAlignment)\n      }\n    } else {\n      const isAnimation = !!props.scrollWithAnimation\n      // Y 轴滚动\n      if (props.scrollY && typeof props.scrollTop === 'number' && props.scrollTop !== this._scrollTop) {\n        if (isInit) {\n          setTimeout(() => scrollVertical.bind(this)(props.scrollTop, isAnimation), 10)\n        } else {\n          scrollVertical.bind(this)(props.scrollTop, isAnimation)\n        }\n      }\n      // X 轴滚动\n      if (props.scrollX && typeof props.scrollLeft === 'number' && props.scrollLeft !== this._scrollLeft) {\n        if (isInit) {\n          setTimeout(() => scrollHorizontal.bind(this)(props.scrollLeft, isAnimation), 10)\n        } else {\n          scrollHorizontal.bind(this)(props.scrollLeft, isAnimation)\n        }\n      }\n    }\n  }\n\n  render () {\n    const {\n      className,\n      style = {},\n      onScroll,\n      onScrollToUpper,\n      onScrollToLower,\n      onTouchMove,\n      scrollX,\n      scrollY\n    } = this.props\n    let { upperThreshold = 50, lowerThreshold = 50 } = this.props\n    const cls = classNames(\n      'taro-scroll',\n      {\n        'taro-scroll-view__scroll-x': scrollX,\n        'taro-scroll-view__scroll-y': scrollY\n      },\n      className\n    )\n    upperThreshold = Number(upperThreshold)\n    lowerThreshold = Number(lowerThreshold)\n    const upperAndLower = e => {\n      if (!this.container) return\n      const { offsetWidth, offsetHeight, scrollLeft, scrollTop, scrollHeight, scrollWidth } = this.container\n      if (\n        onScrollToLower &&\n        ((this.props.scrollY && offsetHeight + scrollTop + lowerThreshold >= scrollHeight) ||\n          (this.props.scrollX && offsetWidth + scrollLeft + lowerThreshold >= scrollWidth))\n      ) {\n        onScrollToLower(e)\n      }\n      if (\n        onScrollToUpper &&\n        ((this.props.scrollY && scrollTop <= upperThreshold) || (this.props.scrollX && scrollLeft <= upperThreshold))\n      ) {\n        onScrollToUpper(e)\n      }\n    }\n    const upperAndLowerThrottle = throttle(upperAndLower, 200)\n    const _onScroll = e => {\n      const { scrollLeft, scrollTop, scrollHeight, scrollWidth } = this.container\n      this._scrollLeft = scrollLeft\n      this._scrollTop = scrollTop\n      Object.defineProperty(e, 'detail', {\n        enumerable: true,\n        writable: true,\n        value: {\n          scrollLeft,\n          scrollTop,\n          scrollHeight,\n          scrollWidth\n        }\n      })\n      upperAndLowerThrottle(e)\n      onScroll && onScroll(e)\n    }\n    const _onTouchMove = e => {\n      onTouchMove ? onTouchMove(e) : this.onTouchMove(e)\n    }\n    return (\n      <div\n        ref={container => {\n          this.container = container\n        }}\n        style={style}\n        className={cls}\n        onScroll={_onScroll}\n        onTouchMove={_onTouchMove}\n      >\n        {this.props.children}\n      </div>\n    )\n  }\n}\n\nexport default ScrollView\n"],"names":["easeOutScroll","from","arguments","length","undefined","to","callback","change","dur","sTime","Date","linear","t","b","c","d","isLarger","step","requestAnimationFrame","scrollIntoView","id","isHorizontal","animated","scrollIntoViewAlignment","_a","document","querySelector","concat","behavior","block","inline","scrollVertical","top","isAnimation","_this","_scrollTop","pos","container","scrollTop","scrollHorizontal","left","_this2","_scrollLeft","scrollLeft","ScrollView","_React$Component","_inherits","_super","_createSuper","_this3","_classCallCheck","onTouchMove","e","stopPropagation","_createClass","key","value","componentDidMount","handleScroll","props","UNSAFE_componentWillReceiveProps","nextProps","_this4","isInit","scrollX","scrollY","setTimeout","scrollWithAnimation","bind","render","_this5","_this$props","className","_this$props$style","style","onScroll","onScrollToUpper","onScrollToLower","_this$props2","_this$props2$upperThr","upperThreshold","_this$props2$lowerThr","lowerThreshold","cls","classNames","Number","upperAndLower","_this5$container","offsetWidth","offsetHeight","scrollHeight","scrollWidth","upperAndLowerThrottle","throttle","_onScroll","_this5$container2","Object","defineProperty","enumerable","writable","_onTouchMove","React","createElement","ref","children","Component"],"mappings":"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"}