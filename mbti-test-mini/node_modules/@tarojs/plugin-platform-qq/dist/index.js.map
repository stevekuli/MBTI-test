{"version":3,"file":"index.js","sources":["../src/components.ts","../src/program.ts","../src/index.ts"],"sourcesContent":["export const components = {\n  // ======== 调整属性 ========\n  Button: {\n    'app-packagename': '',\n    'app-bundleid': '',\n    'app-connect-id': '',\n    'group-id': '',\n    'public-id': '',\n    'guild-id': '',\n    'share-type': '27',\n    'share-mode': '[\\'qq\\', \\'qzone\\']',\n    'aria-label': '',\n    'open-id': '',\n    'share-message-friend-info': '',\n    bindAddFriend: '',\n    bindAddGroupApp: ''\n  },\n  Ad: {\n    type: 'banner',\n    'ad-left': '',\n    'ad-top': '',\n    'ad-width': '',\n    'ad-height': '',\n    'block-size': '1',\n    'block-orientation': 'landscape',\n    'test-banner-type': 'three',\n    bindsize: '',\n  }\n}\n","import { Weapp } from '@tarojs/plugin-platform-weapp'\n\nimport { components } from './components'\n\nimport type { IOptions } from '@tarojs/plugin-platform-weapp'\n\nconst PACKAGE_NAME = '@tarojs/plugin-platform-qq'\n\nexport default class QQ extends Weapp {\n  platform = 'qq'\n  globalObject = 'qq'\n  projectConfigJson = 'project.qq.json'\n  runtimePath = `${PACKAGE_NAME}/dist/runtime`\n  fileType = {\n    templ: '.qml',\n    style: '.qss',\n    config: '.json',\n    script: '.js',\n    xs: '.wxs'\n  }\n\n  /**\n   * 1. setupTransaction - init\n   * 2. setup\n   * 3. setupTransaction - close\n   * 4. buildTransaction - init\n   * 5. build\n   * 6. buildTransaction - close\n   */\n  constructor (ctx, config, pluginOptions: IOptions) {\n    super(ctx, config, pluginOptions)\n\n    this.buildTransaction.addWrapper({\n      init: this.beforeBuild\n    })\n  }\n\n  beforeBuild () {\n    // 处理 QQ 与微信的组件差异\n    this.template.mergeComponents(this.ctx, components)\n    this.template.Adapter = {\n      if: 'qq:if',\n      else: 'qq:else',\n      elseif: 'qq:elif',\n      for: 'qq:for',\n      forItem: 'qq:for-item',\n      forIndex: 'qq:for-index',\n      key: 'qq:key',\n      xs: 'wxs',\n      type: 'qq'\n    }\n  }\n}\n","import QQ from './program'\n\nimport type { IOptions } from '@tarojs/plugin-platform-weapp'\nimport type { IPluginContext } from '@tarojs/service'\n\nexport { QQ }\n\nexport default (ctx: IPluginContext, options: IOptions) => {\n  ctx.registerPlatform({\n    name: 'qq',\n    useConfigName: 'mini',\n    async fn ({ config }) {\n      const program = new QQ(ctx, config, options)\n      await program.start()\n    }\n  })\n}\n"],"names":["Weapp"],"mappings":"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"}