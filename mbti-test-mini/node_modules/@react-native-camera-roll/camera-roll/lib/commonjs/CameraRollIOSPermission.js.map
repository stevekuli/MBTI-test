{"version":3,"names":["isIOS","Platform","OS","CameraRollPermissionModule","console","error","cameraRollEventEmitter","NativeEventEmitter","undefined","iosReadGalleryPermission","accessLevel","Error","checkPermission","iosRequestReadWriteGalleryPermission","requestReadWritePermission","iosRequestAddOnlyGalleryPermission","requestAddOnlyPermission","iosRefreshGallerySelection","refreshPhotoSelection"],"sources":["CameraRollIOSPermission.ts"],"sourcesContent":["import {NativeEventEmitter, Platform} from 'react-native';\nimport CameraRollPermissionModule from './cameraRollPermissionNativeInterface';\n\n/** Defines ios permission access levels for gallery */\nexport type AccessLevel = 'addOnly' | 'readWrite';\n\nexport type CameraRollAuthorizationStatus =\n  | 'granted'\n  | 'limited'\n  | 'denied'\n  | 'unavailable'\n  | 'blocked'\n  | 'not-determined';\n\nconst isIOS = Platform.OS === 'ios';\nif (isIOS && CameraRollPermissionModule == null) {\n  console.error(\n    \"photoLibraryPermissionModule: Native Module 'photoLibraryPermissionModule' was null! Did you run pod install?\",\n  );\n}\nexport const cameraRollEventEmitter = new NativeEventEmitter(\n  isIOS ? CameraRollPermissionModule : undefined,\n);\n\nexport const iosReadGalleryPermission = (\n  accessLevel: AccessLevel,\n): Promise<CameraRollAuthorizationStatus> => {\n  if (!isIOS) throw new Error('this module is available only for ios');\n\n  return CameraRollPermissionModule.checkPermission(accessLevel);\n};\n\nexport const iosRequestReadWriteGalleryPermission =\n  (): Promise<CameraRollAuthorizationStatus> => {\n    if (!isIOS) throw new Error('this module is available only for ios');\n\n    return CameraRollPermissionModule.requestReadWritePermission();\n  };\n\nexport const iosRequestAddOnlyGalleryPermission =\n  (): Promise<CameraRollAuthorizationStatus> => {\n    if (!isIOS) throw new Error('this module is available only for ios');\n\n    return CameraRollPermissionModule.requestAddOnlyPermission();\n  };\n\nexport const iosRefreshGallerySelection = (): Promise<boolean> => {\n  if (!isIOS) throw new Error('this module is available only for ios');\n\n  return CameraRollPermissionModule.refreshPhotoSelection();\n};\n"],"mappings":";;;;;;;AAAA;;AACA;;;;AAaA,MAAMA,KAAK,GAAGC,qBAAA,CAASC,EAAT,KAAgB,KAA9B;;AACA,IAAIF,KAAK,IAAIG,4CAAA,IAA8B,IAA3C,EAAiD;EAC/CC,OAAO,CAACC,KAAR,CACE,+GADF;AAGD;;AACM,MAAMC,sBAAsB,GAAG,IAAIC,+BAAJ,CACpCP,KAAK,GAAGG,4CAAH,GAAgCK,SADD,CAA/B;;;AAIA,MAAMC,wBAAwB,GACnCC,WADsC,IAEK;EAC3C,IAAI,CAACV,KAAL,EAAY,MAAM,IAAIW,KAAJ,CAAU,uCAAV,CAAN;EAEZ,OAAOR,4CAAA,CAA2BS,eAA3B,CAA2CF,WAA3C,CAAP;AACD,CANM;;;;AAQA,MAAMG,oCAAoC,GAC/C,MAA8C;EAC5C,IAAI,CAACb,KAAL,EAAY,MAAM,IAAIW,KAAJ,CAAU,uCAAV,CAAN;EAEZ,OAAOR,4CAAA,CAA2BW,0BAA3B,EAAP;AACD,CALI;;;;AAOA,MAAMC,kCAAkC,GAC7C,MAA8C;EAC5C,IAAI,CAACf,KAAL,EAAY,MAAM,IAAIW,KAAJ,CAAU,uCAAV,CAAN;EAEZ,OAAOR,4CAAA,CAA2Ba,wBAA3B,EAAP;AACD,CALI;;;;AAOA,MAAMC,0BAA0B,GAAG,MAAwB;EAChE,IAAI,CAACjB,KAAL,EAAY,MAAM,IAAIW,KAAJ,CAAU,uCAAV,CAAN;EAEZ,OAAOR,4CAAA,CAA2Be,qBAA3B,EAAP;AACD,CAJM"}